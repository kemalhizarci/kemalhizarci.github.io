<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <title>Position Helper</title>
  <style>
    body {
      margin: 0;
      font-family: monospace;
      background: #f3f3f3;
    }

    .container {
      position: relative;
      width: 1000px;
      height: 750px;
      margin: 2rem auto;
      background-image: url("img/vangogh-room.jpg");
      background-size: cover;
      background-position: center;
      border: 2px solid #666;
    }

    .draggable {
      position: absolute;
      width: 100px;
      cursor: move;
    }

    .info {
      text-align: center;
      margin-top: 10px;
      font-size: 1.1rem;
    }
  </style>
</head>
<body>

  <div class="container" id="canvas">
    <img src="img/pencere.gif" class="draggable" id="obj" alt="Nesne">
  </div>

  <div class="info" id="coords">top: 0%; left: 0%;</div>

  <script>
    const obj = document.getElementById("obj");
    const container = document.getElementById("canvas");
    const coords = document.getElementById("coords");

    obj.addEventListener("mousedown", function(e) {
      e.preventDefault();
      let shiftX = e.clientX - obj.getBoundingClientRect().left;
      let shiftY = e.clientY - obj.getBoundingClientRect().top;

      function moveAt(pageX, pageY) {
        let x = pageX - container.getBoundingClientRect().left - shiftX;
        let y = pageY - container.getBoundingClientRect().top - shiftY;

        // sınırlar
        x = Math.max(0, Math.min(container.clientWidth - obj.clientWidth, x));
        y = Math.max(0, Math.min(container.clientHeight - obj.clientHeight, y));

        obj.style.left = x + "px";
        obj.style.top = y + "px";

        // yüzde
        let leftPct = ((x / container.clientWidth) * 100).toFixed(1);
        let topPct = ((y / container.clientHeight) * 100).toFixed(1);
        coords.textContent = `top: ${topPct}%; left: ${leftPct}%;`;
      }

      function onMouseMove(e) {
        moveAt(e.pageX, e.pageY);
      }

      document.addEventListener("mousemove", onMouseMove);
      document.addEventListener("mouseup", () => {
        document.removeEventListener("mousemove", onMouseMove);
      }, { once: true });
    });

    obj.ondragstart = () => false;
  </script>

</body>
</html>
