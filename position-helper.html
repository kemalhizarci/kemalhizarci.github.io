<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <title>Position Helper</title>
  <style>
    body {
      margin: 0;
      font-family: monospace;
      background: #f0f0f0;
    }

    .container {
      position: relative;
      width: 1000px;
      height: 750px;
      margin: 2rem auto;
      background-image: url("img/vangogh-room.jpg");
      background-size: cover;
      background-position: center;
      border: 2px solid #666;
    }

    .draggable {
      position: absolute;
      resize: both;
      overflow: hidden;
      border: 2px dashed rgba(0, 0, 0, 0.2);
      padding: 2px;
    }

    .draggable img {
      width: 100%;
      height: 100%;
      object-fit: contain;
      display: block;
      pointer-events: none;
    }

    .info {
      text-align: center;
      font-size: 1rem;
      margin-bottom: 10px;
    }

  </style>
</head>
<body>

  <div class="info" id="coords">top: …%; left: …%</div>

  <div class="container" id="canvas">
    <div class="draggable" id="pc" style="top: 35%; left: 40%; width: 120px; height: 100px;">
      <img src="img/pc.png" alt="PC">
    </div>

    <div class="draggable" id="pencere" style="top: 10%; left: 10%; width: 100px; height: 150px;">
      <img src="img/pencere.gif" alt="Pencere">
    </div>
  </div>

  <script>
    function makeDraggable(el) {
      const container = document.getElementById("canvas");
      const coords = document.getElementById("coords");

      el.addEventListener("mousedown", function(e) {
        if (e.target.tagName === "IMG") e.preventDefault();

        let shiftX = e.clientX - el.getBoundingClientRect().left;
        let shiftY = e.clientY - el.getBoundingClientRect().top;

        function moveAt(pageX, pageY) {
          let x = pageX - container.getBoundingClientRect().left - shiftX;
          let y = pageY - container.getBoundingClientRect().top - shiftY;

          x = Math.max(0, Math.min(container.clientWidth - el.offsetWidth, x));
          y = Math.max(0, Math.min(container.clientHeight - el.offsetHeight, y));

          el.style.left = x + "px";
          el.style.top = y + "px";

          let leftPct = ((x / container.clientWidth) * 100).toFixed(1);
          let topPct = ((y / container.clientHeight) * 100).toFixed(1);
          coords.textContent = `top: ${topPct}%; left: ${leftPct}%;`;
        }

        function onMouseMove(e) {
          moveAt(e.pageX, e.pageY);
        }

        document.addEventListener("mousemove", onMouseMove);

        document.addEventListener("mouseup", () => {
          document.removeEventListener("mousemove", onMouseMove);
        }, { once: true });
      });

      el.ondragstart = () => false;
    }

    makeDraggable(document.getElementById("pc"));
    makeDraggable(document.getElementById("pencere"));
  </script>

</body>
</html>
